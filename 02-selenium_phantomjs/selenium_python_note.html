<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>selenium-python translation</title>
</head>
<body>
    

<div id="md-body">

[TOC]

Translate from [selenium-python Documents](http://selenium-python.readthedocs.io/installation.html)

---

# 1. Installation

# 1. 安装

---

---

## 1.1 Introduction

## 1.1 介绍 

---

Selenium Python bindings provides a simple API to write functional/acceptance tests using Selenium WebDriver. Through Selenium Python API you can access all functionalities of Selenium WebDriver in an intuitive way.

[Selenium Python](http://pypi.python.org/pypi/selenium)包提供一个简单API用`Selenium WebDriver`来编写功能测试和验收测试。

	英文速记：functional/acceptance tests : 功能/验收测试

---

Selenium Python bindings provide a convenient API to access Selenium WebDrivers like Firefox, Ie, Chrome, Remote etc. The current supported Python versions are 2.7, 3.5 and above.

[Selenium Python](http://pypi.python.org/pypi/selenium)包提供了一个方便的API来访问Selenium网页驱动器，诸如FF,IE,Chrome,远程协议等等。当前支持的Python版本是2.7，3.5及更高。

	英文速记：access : 访问

**笔者补充**：

* Remote表示Selenium构建其他类浏览器的网页驱动器实例，用于完成网页功能测试等应用。比如[PhantomJS](http://phantomjs.org/)，基于**Google V8**引擎的服务端浏览器等。

---

This documentation explains Selenium 2 WebDriver API. Selenium 1 / Selenium RC API is not covered here.

本文解说了`Selenium 2 WebDriver API`。Selenium 1 或者 Selenium RC API 不包含在此。

	英文速记：explain : 解释，说明(动词)

---

## 1.2 Downloading Python bindings for Selenium

## 1.2 下载Selenium Python包

---

You can download Python bindings for Selenium from the PyPI page for selenium package. However, a better approach would be to use pip to install the selenium package. Python 3.6 has pip available in the standard library. Using pip, you can install selenium like this:

你可以下载Selenium Python包从[PyPI页面](http://pypi.python.org/pypi/selenium)。然而，一个更好的途径是用pip命令安装selenium包。在Python 3.6的标准库中可用pip。使用pip安装selenium如此：

```
pip install selenium
```

```
英文速记：approach : 途径、方法
```

---

You may consider using virtualenv to create isolated Python environments. Python 3.6 has pyvenv which is almost same as virtualenv.

你可能考虑使用虚拟环境来创建单独的Python环境。Python 3.6有和`virtualenv`(虚拟环境)一样的`pyvenv`命令工具。

	英文速记：isolated : 单独的、孤立的(被动语态)

---

## 1.3 Driver

## 1.3 驱动器

---

Selenium requires a driver to interface with the chosen browser. Firefox, for example, requires geckodriver, which needs to be installed before the below examples can be run. Make sure it’s in your PATH, e. g., place it in /usr/bin or /usr/local/bin.

Selenium需要一个驱动器作为被选择浏览器的接口。比如说，火狐，需要`geckodriver`驱动器，gechodriver需要在一下例子运行时提前被安装。并且确保他们在你的系统环境变量中。例如，将它放置在`/usr/bin`或者`/usr/local/bin`中。

	英文速记 ： 
		interface : 接口，界面
		make sure : 确保

**笔者补充**：

* 此处说需要一个驱动器的意思是，虽然可能在开发者的系统中已经安装了诸如火狐、IE、Chrome等等浏览器，但是，开发者想要通过selenium和系统中的浏览器交互的话，仍然需要一个中间件来完成。例如，开发者想要建立一个Firefox的浏览器模型的话，就要先安装`geckodriver`。

* `/usr/bin`这种是Linux,Mac系统下的文件路径表示法

---

Failure to observe this step will give you an error selenium.common.exceptions.WebDriverException: Message: ‘geckodriver’ executable needs to be in PATH.

不遵守此步骤（**首先安装驱动器中间件**）的话，会给你一个selenium错误。

程序执行后异常内容如下：
	
	WebDriverException: Message: 'geckodriver' executable needs to be in PATH. 

	英文速记 ： 
		observe : 遵守 观察
		exception : 异常(编程语言中用于bug类)

**笔者补充**：

* 错误的含义是：selenium公共异常类中的网页驱动器异常(selenium.common.exceptions.WebDriverException)，异常显示信息是，'geckodriver'在系统环境中不可以被执行。
* 看到上述提示，就是叫开发者将诸如'geckodriver'，信息中指定的驱动器安装在系统环境中。

---

Other supported browsers will have their own drivers available. Links to some of the more popular browser drivers follow.

其他受到支持的浏览器会有他们自己可用的驱动器。一些较为受欢迎的浏览器驱动器信息链接如下。


|Browser|地址|
|:-----:|:-----:|
|Chrome:|https://sites.google.com/a/chromium.org/chromedriver/downloads
|Edge:	|https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/
|Firefox:	|https://github.com/mozilla/geckodriver/releases
|Safari:	|https://webkit.org/blog/6900/webdriver-support-in-safari-10/

---

## 1.4. Detailed instructions for Windows users

## 1.4 给Windows用户使用的详细指令

---

```
Note
You should have internet connection to perform this installation.
```

```
注意
你需要有联网才能执行这个安装操作。
```

---

1. Install Python 3.6 using the MSI available in python.org download page.
2. Start a command prompt using the cmd.exe program and run the pip command as given below to install selenium.

1. 使用 [python.org](python.org)的`msi`格式的可执行文件安装 `Python 3.6`
2. 使用`cmd.exe`程序打开命令提示框，在命令行中运行`pip`命令如下来安装`selenium`

	C:\Python35\Scripts\pip.exe install selenium

---

Now you can run your test scripts using Python. For example, if you have created a Selenium based script and saved it inside C:\my_selenium_script.py, you can run it like this:

现在你可以使用Python运行你的测试脚本程序了。例如，如果你已经创建了一个基于selenium的脚本并且将它保存在`C:\my_selenium_script.py`，你可以使用如下指令运行它:

	C:\Python35\python.exe C:\my_selenium_script.py

---

## 1.5. Downloading Selenium server

## 1.5 下载Selenium服务器

---

```
Note
The Selenium server is only required, if you want to use the remote WebDriver. See the Using Selenium with remote WebDriver section for more details. If you are a beginner learning Selenium, you can skip this section and proceed with next chapter.
```

```
注意
如果你想要使用远程网页驱动器，Selenium服务器是必须的。查看[Using Selenium with remote WebDriver](http://selenium-python.readthedocs.io/getting-started.html#selenium-remote-webdriver,"使用Selenium远程网页驱动器")获取更多详情。如果你是一个Selenium初学者，你可以跳过这个小节内容开始下一章节。
```

	英文速记 ： 
		detail : 细节，详情
		proceed : 开始
	
---

Selenium server is a Java program. Java Runtime Environment (JRE) 1.6 or newer version is recommended to run Selenium server.

selenium服务是一个Java程序。推荐使用Java运行环境(JRE)1.6或者更新版本运行Selenium服务程序。

	英文速记 ：
		runtime : 执行时间，运行时间
		recommended : 被推荐的(被动语态)

---

You can download Selenium server 2.x from the download page of selenium website. The file name should be something like this: selenium-server-standalone-2.x.x.jar. You can always download the latest 2.x version of Selenium server.

你可以从selenium网站下载`Selenium server 2.x`版本。这个文件的名字可能是这样的：`selenium-server-standalone-2.x.x.jar`。你可以~总是~随时下载最新的2.x版本的Selenium server程序。

---

If Java Runtime Environment (JRE) is not installed in your system, you can download the JRE from the Oracle website. If you are using a GNU/Linux system and have root access in your system, you can also use your operating system instructions to install JRE.

如果Java运行环境没有被安装在你的系统中，你可以从[Oracle官网](http://www.oracle.com/technetwork/java/javase/downloads/index.html)下载JRE。如果你正在使用的是开源Linux系统并且有**root系统访问权限**，你也可以用你的操作系统指令来安装JRE。

---

If java command is available in the PATH (environment variable), you can start the Selenium server using this command:

如果Java命令已经被添加在你的系统环境变量中，你可以启动Selenium服务器使用下述命令：

	java -jar selenium-server-standalone-2.x.x.jar

---

Replace 2.x.x with actual version of Selenium server you downloaded from the site.

命令中用你从站点上下载的实际的Selenium服务器程序版本号取代**2.x.x**命令字样。

---

If JRE is installed as a non-root user and/or if it is not available in the PATH (environment variable), you can type the relative or absolute path to the java command. Similarly, you can provide relative or absolute path to Selenium server jar file. Then, the command will look something like this:


如果你的JRE不是被有root权限的用户，或者不是被添加在系统环境变量中的，你可以输入相对或者绝对路径给Java命令。类似的，你可以提供Selenium服务器jar包文件的绝对或者相对的文件路径。然后，这个命令会看起来像这样：

	/path/to/java -jar /path/to/selenium-server-standalone-2.x.x.jar

```
英文速记：Similarly : 相似地，类似地
```



---

# 2. Getting Started

# 2. 开始

---

---

## 2.1. Simple Usage

## 2.1 简单用例

---

If you have installed Selenium Python bindings, you can start using it from Python like this.

如果你已经安装了Selenium Python包，你可以开始用Python使用它如下。

---

```python
from selenium import webdriver
from selenium.webdriver.common.keys import Keys

phantomjs_path = r'D:\2017-02-22\desktop20170222\69xe\node_modules\phantomjs-2.1.1-windows\bin\phantomjs.exe'

driver = webdriver.PhantomJS(executable_path=phantomjs_path)
driver.get("http://www.python.org")
assert "Python" in driver.title
elem = driver.find_element_by_name("q")
elem.clear()
elem.send_keys("pycon")
elem.send_keys(Keys.RETURN)
assert "No results found." not in driver.page_source
driver.close()	
```	

**笔者备注**：

* 由于笔者安装的是PhontomJS作为浏览器的，所以并未修改了源码使用火狐的例子。

---

The above script can be saved into a file (eg:- python_org_search.py), then it can be run like this:

以上脚本可以保存为`python_org_search.py`文件，然后如是运行它。

	python python_org_search.py

---

The python which you are running should have the selenium module installed.

你正在运行的Python需要已经安装selenium模块。

---

## 2.2. Example Explained

## 2.2 例子说明

---

The selenium.webdriver module provides all the WebDriver implementations. Currently supported WebDriver implementations are Firefox, Chrome, IE and Remote. The Keys class provide keys in the keyboard like RETURN, F1, ALT etc.

这个`selenium.webdriver`模块提供了所有的网页驱动器实现。当前被支持的网页驱动器实现是火狐，Chrome，IE和远程的浏览器服务程序。这里的按键类提供了在键盘上的按键，诸如RETURN返回键，F1键，ALT转换键等。

	英文速记：implementation : [计]实现，履行


```python
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
```

---

Next, the instance of Firefox WebDriver is created.

下一步，创建一个PhantomJS网页驱动器实例

```python
phantomjs_path = r'D:\2017-02-22\desktop20170222\69xe\node_modules\phantomjs-2.1.1-windows\bin\phantomjs.exe'
driver = webdriver.PhantomJS(executable_path=phantomjs_path)
```

---

The driver.get method will navigate to a page given by the URL. WebDriver will wait until the page has fully loaded (that is, the “onload” event has fired) before returning control to your test or script. It’s worth noting that if your page uses a lot of AJAX on load then WebDriver may not know when it has completely loaded.:

`driver.get`方法将模拟一个URL指引的页面。网页驱动器将等到页面完全被加载（那样，"onload"事件被激活）后，返回控制给你的测试程序或者脚本。**如果你的页面在加载时使用了许多的AJAX是不值得的，这样的话驱动器可能不会知道它何时完全加载了**

	英文速记：
		navigate : 驾驶，操纵，模拟
		fired : 被激发，被激活[意译]
		be worth doing... : 值得做...

```python
driver.get("http://www.python.org")
```

---

The next line is an assertion to confirm that title has “Python” word in it:

下一行是一句断言来确认网页标题中有"Python"关键字

```
英文速记：assertion ： 断言，声明，主张，要求
```

	assert "Python" in driver.title

---

WebDriver offers a number of ways to find elements using one of the `find_element_by_*` methods. For example, the input text element can be located by its name attribute using find_element_by_name method. Detailed explanation of finding elements is available in the Locating Elements chapter:

网页驱动器提供了一些类似`find_element_by_*`方法来寻找元素。例如，可以使用`find_element_by_name`方法，通过`name`属性找到输入框元素。详细的关于查找元素的方法说明在[Locating Elements](http://selenium-python.readthedocs.io/locating-elements.html#locating-elements)章节。

	elem = driver.find_element_by_name("q")

---

Next we are sending keys, this is similar to entering keys using your keyboard. Special keys can be sent using Keys class imported from selenium.webdriver.common.keys. To be safe, we’ll first clear any prepopulated text in the input field (e.g. “Search”) so it doesn’t affect our search results:

下一步，我们像按键盘按钮一样，发送按键指令。特殊按键可以从`selenium.webdriver.common.keys`按键类中导入后发送。保险起见，我们首先清除任何预先填充在输入区域的文本（例如，“Search”），这样，就不会影响我们的搜索结果了。

	英文速记：
		prepopulated ： 预先被放置于
		field ： 区域

```python
elem.clear()
elem.send_keys("pycon")
elem.send_keys(Keys.RETURN)
```

---

After submission of the page, you should get the result if there is any. To ensure that some results are found, make an assertion:

提交这个页面后，你可能会得到结果。为确保没有值被找到，做一个断言。

	英文速记 ： ensure ：　保证，确保，使安全

```python
assert "No results found." not in driver.page_source
```

---

Finally, the browser window is closed. You can also call quit method instead of close. The quit will exit entire browser whereas close` will close one tab, but if just one tab was open, by default most browser will exit entirely.:

最后，浏览器窗口关闭。你也可以使用`quit`方法来替代`close`方法。**`quit`将退出整个浏览器，而`close`将关闭一个选项页**，但是如果只打开了一个选项页，默认的浏览器也会完全退出。

	英文速记 ： 
		entire ： 全部，整个
		entirely ： 完全地，彻底地

```python
driver.close()
```

---

## 2.3. Using Selenium to write tests

## 2.3 使用Selenium写测试程序

---

Selenium is mostly used for writing test cases. The selenium package itself doesn’t provide a testing tool/framework. You can write test cases using Python’s unittest module. The other options for a tool/framework are py.test and nose.

In this chapter, we use unittest as the framework of choice. Here is the modified example which uses unittest module. This is a test for python.org search functionality:

---



</div>
    
<!-- <script src="https://YQMCU.github.io/books_study/scripts/markdown_parse.js" type="text/javascript"></script>
 -->
<script src="http://localhost:8088\books_study\scripts\markdown_parse.js" type="text/javascript"></script>

<!-- 
<script type="text/javascript">
	var s = document.createElement("script");
	if(window.navigator.onLine){
		s.src = "https://YQMCU.github.io/books_study/scripts/markdown_parse.js";
	}else{
		s.src = "localhost:8088\books_study\scripts\markdown_parse.js"
	}
	document.body.insertBefore(s,document.getElementsByTagName("script")[0]);
</script>
 -->

</body>
</html>